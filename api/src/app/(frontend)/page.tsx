import { headers as getHeaders } from 'next/headers.js';
import { getPayload } from 'payload';
import React from 'react';

import config from '@/payload.config';
import './styles.css';

export default async function HomePage() {
  const headers = await getHeaders();
  const payloadConfig = await config;
  const payload = await getPayload({ config: payloadConfig });
  const { user } = await payload.auth({ headers });

  return (
    <div className="home">
      <div className="content">
        <svg
          version="1.1"
          id="svg1"
          viewBox="0 0 800 800"
          style={{ stroke: 'white', fill: 'white', height: '200px' }}
          xmlns="http://www.w3.org/2000/svg"
        >
          <defs id="defs1" />
          <g id="g1">
            <path
              d="M 380,715.02131 C 315.2709,710.97563 251.34035,685.78842 201,644.4993 144.22564,597.933 104.77469,532.08799 91.056663,461 70.83097,356.18876 103.90927,249.8892 180,175.17404 c 58.64528,-57.5851 138.18308,-90.12329 220.40321,-90.164965 71.0511,-0.03601 140.74565,24.377835 196.60078,68.868825 53.66563,42.74696 92.15145,102.10149 109.01134,168.1221 16.70798,65.42577 12.05154,134.92576 -13.17378,196.62611 l -4.95759,12.1261 5.54611,7.3739 c 21.19049,28.17403 27.72186,63.81614 17.917,97.77428 C 696.74358,686.4781 647.25494,720.15987 595,715.08574 572.62967,712.9135 554.54429,705.73889 536.28338,691.7924 l -5.21661,-3.98411 -11.28339,4.49583 C 474.22701,710.45591 427.76536,718.00673 380,715.02131 Z m 50.77844,-26.56041 c 16.44854,-1.71965 29.22062,-4.08901 46.13155,-8.5579 C 490.89066,676.20846 513,668.16926 513,666.78026 c 0,-0.56025 -1.55193,-3.5734 -3.44874,-6.69588 -4.17071,-6.86572 -8.90693,-18.46915 -11.79066,-28.8863 -1.79465,-6.48296 -2.14125,-10.53933 -2.19581,-25.69808 -0.0571,-15.87207 0.21555,-19.06397 2.30659,-27 11.20654,-42.53168 44.63457,-74.14833 86.75622,-82.05511 12.17083,-2.28462 36.5689,-1.58101 47.54783,1.37122 9.64331,2.59309 20.891,7.24979 28.32844,11.72838 3.15614,1.90053 6.10121,3.45551 6.5446,3.45551 1.44121,0 9.4763,-22.67106 13.82241,-39 10.83951,-40.72556 12.14856,-89.52291 3.53429,-131.74693 C 675.4254,298.23756 655.48991,255.46704 627.42258,220 617.001,206.83085 589.06851,179.63175 575.5,169.44067 533.14153,137.62594 485.7394,118.63003 433.44221,112.5125 418.49256,110.76374 386.99132,110.52099 371.85595,112.03791 316.35159,117.60074 267.08779,137.45847 221,172.84641 210.13262,181.1908 181.39816,209.94668 172.8823,221 c -30.58538,39.69883 -49.18169,81.39783 -57.77554,129.55166 -6.31246,35.37057 -5.27209,77.89832 2.78755,113.94834 9.47508,42.38113 30.17593,84.94818 57.63706,118.51878 10.45374,12.77945 31.62887,33.71275 44.46863,43.96078 43.67394,34.85825 98.11818,56.82083 153.5,61.92128 15.08274,1.38906 41.74258,1.18429 57.27844,-0.43994 z M 626.5,687.47392 c 8.63911,-2.34413 23.00902,-9.4192 30.19922,-14.86869 16.07726,-12.18503 27.71168,-30.87175 31.93472,-51.29222 C 690.75114,611.07536 690.044,591.37054 687.22313,582 682.60461,566.65786 674.66802,553.6826 663.3121,542.90868 647.06263,527.492 628.01639,520.01401 605,520.01401 c -24.59062,0 -45.42511,8.94484 -61.88354,26.56837 -8.77287,9.3939 -14.54467,19.03112 -19.00998,31.74113 -3.50455,9.97528 -3.57554,10.48295 -3.59086,25.67649 -0.0177,17.61254 1.59947,25.25862 8.14035,38.48691 11.80425,23.87293 35.5652,41.80313 61.58158,46.46993 7.49072,1.34368 29.10236,0.45989 36.26245,-1.48292 z"
              id="path1"
            />
          </g>
        </svg>
        {!user && <h1>Rádio Quântica</h1>}
        {user && <h1>Welcome back, {user.email}</h1>}
        <div className="links">
          <a
            className="admin"
            href={payloadConfig.routes.admin}
            rel="noopener noreferrer"
            target="_blank"
          >
            Go to admin panel
          </a>
        </div>
      </div>
      <div className="footer"></div>
    </div>
  );
}
